# üõ† WorkerPool ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –Ω–∞ Go

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π **–ø—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –∏ graceful shutdown.

---

## üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤
- üßµ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª—ã
- üßº –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—É–ª–∞ —á–µ—Ä–µ–∑ `context.Context`
- üì• –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥—å —á–µ—Ä–µ–∑ `.AddTask(...)`
- üß† –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ª—é–±–æ–π –ø—Ä–æ–µ–∫—Ç

---

## üîß –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```go
func myTask(data interface{}) error {
    fmt.Printf("Processing: %v\n", data)
    return nil
}

func main() {
    ctx := context.Background()
    pool := workerpool.NewPool(ctx, 5)

    for i := 0; i < 100; i++ {
        pool.AddTask(myTask, i)
    }

    pool.Run()
    // –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
    pool.Stop()
}
```
üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
* Pool ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏, –∑–∞–¥–∞—á–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

* Worker ‚Äî –∏—Å–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ taskChan

* Task ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π –∏ –¥–∞–Ω–Ω—ã–º–∏

üß† –ß—Ç–æ —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª
* –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—É—é –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á

* –û–±—Ä–∞–±–æ—Ç–∫—É context.Done() –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

* –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–∞–π–ª–∞–º: pool.go, worker.go, task.go

*–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (retry, backoff, –æ—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ —Ç.–ø.)
